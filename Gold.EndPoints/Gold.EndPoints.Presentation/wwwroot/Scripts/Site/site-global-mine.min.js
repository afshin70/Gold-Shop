function refreshImage(n){var t=document.getElementById(n).src;document.getElementById(n).src=`${t}?`+Date.now()}function moneyFormat(n=""){var i=",",t=n.replace(new RegExp(i,"g"),""),r=new RegExp("\\B(\\d{3})("+i+"|$)");do t=t.replace(r,i+"$1");while(t.search(r)>=0);return t}function safeOnlyNumber(n,t){return toEnglishDigits(n),onlyNumberKey(t)}function setTimer(n="10"){document.getElementById("timer").style.display="inline-block";document.getElementById("try_again").style.display="none";var i=00,t=n;const r=setInterval(function(){document.getElementById("timer").innerHTML=i+":"+t;t=parseInt(t)-1;t<00?(i=parseInt(i)-1,i<0?(clearInterval(r),document.getElementById("timer").style.display="none",document.getElementById("try_again").style.display="inline-block"):(i<10&&(i="0"+i),t=60)):t<10&&(t="0"+t)},1e3)}function fillSelectList(n,t,i){try{var r=document.getElementById(n),u=r.value,f=r.options[r.selectedIndex].text;$.ajax({type:"Get",url:i,data:{id:u},success:function(n){var i,r;for(select=document.getElementById(t),select.innerHTML="",select.innerHTML='<option selected value="">انتخاب کنید<\/option>',i=0;i<n.length;i++)r=document.createElement("option"),r.value=n[i].Value,r.innerHTML=n[i].Text,select.appendChild(r)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(r){ShowToastAlert(2,errorInConnectToServer)}}function ShowToastAlert(n,t){n==0?Toast.fire({icon:"success",title:t}):n==1?Toast.fire({icon:"error",title:t}):n==2?Toast.fire({icon:"warning",title:t}):n==3&&Toast.fire({icon:"info",title:t})}function validateMobileNumberFormat(n){try{var t=new RegExp("^(\\+98|0)?9\\d{9}$");if(t.test(n.value))return;ShowToastAlert(2,"فرمت شماره موبایل اشتباه میباشد.")}catch(i){ShowToastAlert(2,"فرمت شماره موبایل اشتباه میباشد.")}}function showLoader(){document.getElementById("loader")!=undefined&&(document.getElementById("loader").style.display="flex")}function hideLoader(){document.getElementById("loader")!=undefined&&(document.getElementById("loader").style.display="none")}function getAllPayments(n){showLoader();$.ajax({type:"Get",url:"/Document/AllPayments",data:{documentId:n},success:function(n){n.IsSuccess?(hideLoader(),document.getElementById("allPayments").innerHTML=n.Data):ShowToastAlert(n.Type,n.Message)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)},done:hideLoader()})}function submitCustomerPayment(n,t,i=""){try{if(event.preventDefault(),isDisableElement("submitPayment",!0),confirm(i)==!0)$.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(i){i!=undefined?(ShowToastAlert(i.Type,i.Message),i.IsSuccess&&(n.reset(),document.getElementById("file-name")!=undefined&&(document.getElementById("file-name").innerHTML=""),getAllPayments(t))):ShowToastAlert(1,errorInProccessDataInServer)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}});else return isDisableElement("submitPayment",!1),!1;isDisableElement("submitPayment",!1)}catch(r){isDisableElement("submitPayment",!1);ShowToastAlert(1,errorInConnectToServer)}return!1}function isDisableElement(n,t=true){document.getElementById(n)!=undefined&&(document.getElementById(n).disabled=t)}function submitCustomerProfile(n){try{event.preventDefault();$.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(n){n!=undefined?(refreshImage("profileImage"),refreshImage("header_profile_img"),ShowToastAlert(n.Type,n.Message)):ShowToastAlert(1,errorInProccessDataInServer)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(t){ShowToastAlert(1,errorInConnectToServer)}return!1}function refreshImage(n){document.getElementById(n).src+=`?v=${(new Date).getTime()}`;document.getElementById("Captcha")!=undefined&&(document.getElementById("Captcha").value="")}function login(n){try{event.preventDefault();$.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(n){n!=undefined?(ShowToastAlert(n.Type,n.Message),n.IsSuccess?window.location.href=n.Data:n.Data=="False"&&(document.getElementById("Captcha")!=undefined&&(document.getElementById("Captcha").value=""),refreshImage("captcha"))):ShowToastAlert(1,errorInProccessDataInServer)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(t){ShowToastAlert(1,errorInConnectToServer)}return!1}function submitFormNormal(n){try{event.preventDefault();$.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(t){t!=undefined?(ShowToastAlert(t.Type,t.Message),t.IsSuccess&&n.reset()):ShowToastAlert(1,errorInProccessDataInServer)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(t){ShowToastAlert(1,errorInConnectToServer)}return!1}function submitFormNormalWithConfirm(n,t){try{if(event.preventDefault(),confirm(t)==!0)$.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(t){t!=undefined?(ShowToastAlert(t.Type,t.Message),t.IsSuccess&&n.reset()):ShowToastAlert(1,errorInProccessDataInServer)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}});else return!1}catch(i){ShowToastAlert(1,errorInConnectToServer)}return!1}function maskInput(n){$(".number").mask(n)}function loadDataInModal(n,t){try{event!=undefined&&event.preventDefault();var i="#"+t,r=t+"_body";$.ajax({type:"Get",url:n,success:function(n){n.IsSuccess?(document.getElementById(r).innerHTML=n.Data,$(i).modal("show"),$(".card-number").mask("0000-0000-0000-0000")):ShowToastAlert(n.Type,n.Message)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(u){ShowToastAlert(1,errorInConnectToServer)}return!1}function uploadFile(n){document.getElementById("file-name").innerHTML=n.files[0].name}function safeOnlyNumber(n,t){return toEnglishDigits(n),onlyNumberKey(t)}function onlyNumberKey(n){var t=n.which?n.which:n.keyCode;return t>31&&(t<48||t>57)?!1:!0}function toEnglishDigits(n){var t="",i={"۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"},r={"٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9"};t=n.val().replace(/[^0-9.]/g,function(n){return i[n]||r[n]||n});n.val(t)}function ShowPassword(n,t){var i=document.getElementById(n);i.type==="password"?(i.type="text",t.innerHTML='<i class="fa fa-eye-slash"><\/i>'):(i.type="password",t.innerHTML='<i class="fa fa-eye"><\/i>')}function loadDataInModal2(n,t){event!=undefined&&event.preventDefault();var i="#"+t;return $.ajax({type:"Get",url:n,success:function(n){n.IsSuccess?(document.getElementById("documentModalContent").innerHTML=n.Data,$(i).modal("show")):ShowToastAlert(n.Type,n.Message)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}}),!1}function isFunction(n){return typeof n=="function"?!0:n&&{}.toString.call(n)==="[object Function]"}function loadGoldPriceInfoInModal(n,t){try{event!=undefined&&event.preventDefault();var i="#"+t,r=t+"_body";$.ajax({type:"Get",url:n,success:function(n){n.IsSuccess?(document.getElementById(r).innerHTML=n.Data,$(i).modal("show"),setGodPriceTimer()):ShowToastAlert(n.Type,n.Message)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(u){ShowToastAlert(1,errorInConnectToServer)}return!1}function loadGoldPriceCalcModal(n,t){try{event!=undefined&&event.preventDefault();var i="#"+t,r=t+"_body";$.ajax({type:"Get",url:n,success:function(n){n.IsSuccess?(document.getElementById(r).innerHTML=n.Data,$(i).modal("show"),setGodPriceTimer()):ShowToastAlert(n.Type,n.Message)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(u){ShowToastAlert(1,errorInConnectToServer)}return!1}function validatecalculateGoldPriceForm(){return document.getElementById("GramsGoldPrice").value==""?(document.getElementById("GramsGoldPriceMessage").innerText="اجباری می باشد",!1):(document.getElementById("GramsGoldPriceMessage")!=null&&(document.getElementById("GramsGoldPriceMessage").innerText=""),document.getElementById("Weight").value=="")?(document.getElementById("WeightMessage").innerText="اجباری می باشد",!1):(document.getElementById("WeightMessage")!=null&&(document.getElementById("WeightMessage").innerText=""),document.getElementById("Wage").value=="")?(document.getElementById("WageMessage").innerText="اجباری می باشد",!1):(document.getElementById("WageMessage")!=null&&(document.getElementById("WageMessage").innerText=""),document.getElementById("StonePrice").value=="")?(document.getElementById("StonePriceMessage").innerText="اجباری می باشد",!1):(document.getElementById("StonePriceMessage")!=null&&(document.getElementById("StonePriceMessage").innerText=""),document.getElementById("GalleryProfit").value=="")?(document.getElementById("GalleryProfitMessage").innerText="اجباری می باشد",!1):(document.getElementById("GalleryProfitMessage")!=null&&(document.getElementById("GalleryProfitMessage").innerText=""),document.getElementById("Tax").value=="")?(document.getElementById("TaxMessage").innerText="اجباری می باشد",!1):(document.getElementById("TaxMessage")!=null&&(document.getElementById("TaxMessage").innerText=""),!0)}function setGodPriceTimer(){setInterval(()=>{let n=new Date,t=n.getMinutes(),i=n.getHours(),r=n.getSeconds();try{document.getElementById("timer-hour").innerHTML=i<10?`0${i}`:i;document.getElementById("timer-min").innerHTML=t<10?`0${t}`:t;document.getElementById("timer-second").innerHTML=r<10?`0${r}`:r}catch(u){}},1e3)}function monyFormat(n){var i=",",t=n.value.replace(new RegExp(i,"g"),""),r=new RegExp("\\B(\\d{3})("+i+"|$)");do t=t.replace(r,i+"$1");while(t.search(r)>=0);n.value=t}function floatNumber(n,t){var i=n.which?n.which:event.keyCode,u=document.getElementById(t).value,r;return i!==46&&i>31&&(i<48||i>57)?!1:(r=u.split(".").length,r>1&&i===46)?!1:!0}function renderFavoriteSection(n,t){return t?` <i id='favoritState' onclick="unFavorite('${n}','favoritState')" class="fa fa-bookmark ms-3"></i>`:` <i id='favoritState' onclick="addToFavorite('${n}','favoritState')" class="fa-light fa-bookmark ms-3"></i>`}function changeNatText(){var t=document.getElementById("NationalityType"),n=t.value;n=="3"?document.getElementById("NationalCode").setAttribute("placeholder","کد شناسایی"):n=="1"&&document.getElementById("NationalCode").setAttribute("placeholder","کد ملی")}function submitContactUsForm(n,t){try{event!=undefined&&event.preventDefault();confirm(t)==!0&&$.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(t){t!=undefined?(t.IsSuccess&&n.reset(),ShowToastAlert(t.Type,t.Message),refreshImage("captcha")):ShowToastAlert(1,errorInProccessDataInServer)},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(i){ShowToastAlert(1,errorInConnectToServer)}return!1}let errorInProccessDataInServer="خطایی در سرور رخ داده است",errorInConnectToServer="خطا در ارتباط با سرور";$(document).ready(function(){$("#otp input").on("keydown",function(n){let t=$(this).val(),i=n.keyCode;if(i==8&&($(this).val(""),t==""&&$(this).prev().focus()),t.length>0){n.preventDefault();return}});$("#otp input").on("input",function(){let n=$(this).val();n.length>0&&$(this).next().focus()});$(".card-number").mask("0000-0000-0000-0000")});$(".money-format").keyup(function(){let n=moneyFormat($(this).val());$(this).val(n)});submitFormNormal=n=>{try{event.preventDefault();$.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(n){n!=undefined&&ShowToastAlert(n.Type,n.Message)},error:function(){ShowToastAlert(2,errorInProccessDataInServer)}})}catch(t){ShowToastAlert(2,errorInConnectToServer)}return!1};resendVerifyCode=()=>{try{event.preventDefault();showLoader();var n=document.getElementById("Mobile").value,t=document.getElementById("UserName").value;$.ajax({type:"POST",url:"/ResendVerifyCode",data:{userName:t,mobile:n},success:function(n){if(hideLoader(),n!=undefined){document.getElementById("Token").value=n.Data.Token;var t=n.Data.Timer.split(":")[2].split(".")[0];setTimer(`${t}`);ShowToastAlert(n.Type,n.Message)}},error:function(){ShowToastAlert(2,errorInProccessDataInServer)}})}catch(i){ShowToastAlert(2,errorInConnectToServer)}};resendRegisterVerifyCode=()=>{try{event.preventDefault();showLoader();var n=document.getElementById("Mobile").value,t=document.getElementById("NationalCode").value,i=document.getElementById("NationalityType").value;$.ajax({type:"POST",url:"/ResendRegisterVerifyCode",data:{nationalityType:i,userName:t,mobile:n},success:function(n){if(hideLoader(),n!=undefined){document.getElementById("Token").value=n.Data.Token;var t=n.Data.Timer.split(":")[2].split(".")[0];setTimer(`${t}`);ShowToastAlert(n.Type,n.Message)}},error:function(){ShowToastAlert(2,errorInProccessDataInServer)}})}catch(r){ShowToastAlert(2,errorInConnectToServer)}};document.onreadystatechange=function(){var n=document.readyState;n=="interactive"||n=="complete"&&hideLoader()};submitModalFormEditInformetionWithConfirm=(n,t,i)=>{try{event.preventDefault();var r="#"+t,u=t+"_body";confirm(i)==!0&&$.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(n){n!=undefined&&(document.getElementById(u).innerHTML=n.Data,ShowToastAlert(n.Type,n.Message),n.IsSuccess&&$(r).modal("hide"))},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(f){ShowToastAlert(1,errorInConnectToServer)}return!1};addNewBankCardNumber=(n,t,i)=>{try{event.preventDefault();var u="#"+t,r=t+"_body";confirm(i)==!0&&$.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(n){n!=undefined&&(ShowToastAlert(n.Type,n.Message),n.IsSuccess&&(document.getElementById(r).innerHTML=n.Data,document.getElementById("CardNumber").value="",document.getElementById("Owner").value=""))},error:function(){ShowToastAlert(1,errorInProccessDataInServer)}})}catch(f){ShowToastAlert(1,errorInConnectToServer)}return!1};$(document).ready(function(){$(".date").mask("9999/99/99");$("form").on("focus","input[type=number]",function(){$(this).on("wheel.disableScroll",function(n){n.preventDefault()})});$("form").on("blur","input[type=number]",function(){$(this).off("wheel.disableScroll")})});calculateGoldPrice=n=>{try{event!=undefined&&event.preventDefault();validatecalculateGoldPriceForm()&&($.ajax({type:"POST",url:n.action,data:new FormData(n),contentType:!1,processData:!1,success:function(n){n!=undefined&&n.IsSuccess&&(document.getElementById("pureGoldPrice").innerHTML=n.Data.PureGoldPrice,document.getElementById("finalInvoicePrice").innerHTML=n.Data.InvoiceTotalPrice)},error:function(n){ShowAlertToast(2,"",n)}}),validatecalculateGoldPriceForm())}catch(t){ShowAlertToast(2,"",t)}return!1};addToFavorite=n=>{try{var t=new FormData;t.append("productId",n);$.ajax({type:"POST",url:"/User/AddToFavorites",data:t,contentType:!1,processData:!1,statusCode:{403:function(){ShowToastAlert(2,"برای افزودن این محصول به علاقه مندی ها، ابتدا وارد سایت شوید")}},success:function(t){t!=undefined&&t.IsSuccess&&(document.getElementById("favoriteSection").innerHTML=renderFavoriteSection(n,!0));ShowToastAlert(t.Type,t.Message)},error:function(){}})}catch(i){ShowToastAlert(2,i)}return!1};unFavorite=(n,t=false)=>{try{var i=new FormData;i.append("productId",n);$.ajax({type:"POST",url:"/User/UnFavorite",data:i,contentType:!1,processData:!1,statusCode:{403:function(){ShowToastAlert(2,"برای حذف این محصول از علاقه مندی ها، ابتدا وارد سایت شوید")}},success:function(i){if(i!=undefined&&i.IsSuccess&&(document.getElementById("favoriteSection").innerHTML=renderFavoriteSection(n,!1),t)){const t=document.getElementById(`productItem${n}`);t.remove();$("#productInfo").modal("hide")}ShowToastAlert(i.Type,i.Message)},error:function(){}})}catch(r){ShowAlertToast(2,r)}return!1};$("#my-accordion > div > div.accordion-title").click(function(){$("div.accordion-title").not(this).removeClass("active","border-bottom-0").addClass("border-bottom-0").next().hide(300);const n=this.querySelector("i");$(this).toggleClass("active");!1==$(this).next().is(":visible")?($(this).removeClass("border-bottom-0"),n.classList.add("fa-chevron-up"),n.classList.remove("fa-chevron-down")):($(this).addClass("border-bottom-0"),n.classList.remove("fa-chevron-up"),n.classList.add("fa-chevron-down"));$(this).next().slideToggle(300)});var animationIsOff=$.fx.off;$.fx.off=!0;$("#my-accordion > div > div> div.accordion-content:eq(0)").click();$.fx.off=animationIsOff;